<div class="graph-container">
  <div class="header-row">
    <div class="header-spacer"></div>
    <h2>Sentiment Over Time</h2>
    <div class="time-filters">
      <button
        *ngFor="let filter of timeFilters"
        [class.active]="activeFilter === filter.value"
        (click)="updateTimeRange(filter.value)"
      >
        {{ filter.label }}
      </button>
    </div>
  </div>

  <div class="chart-container">
    <div
      class="chart-blur-wrapper"
      [ngClass]="{ 'blurred': !isAuthenticated }"
    >
      <canvas
        baseChart
        [datasets]="chartData.datasets"
        [labels]="chartData.labels"
        [options]="chartOptions"
        [type]="'line'"
      >
      </canvas>
    </div>

    <div class="graph-login-overlay" *ngIf="!isAuthenticated">
      <div class="overlay-content">
        <p>You must be logged in to view sentiment data.</p>
        <button (click)="login()">Log in</button>
      </div>
    </div>
  </div>
</div>

